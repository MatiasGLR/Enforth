<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">

<div id="general_div">
    <div class="datos_collap">
        <div style="text-align: center;">
            <div class="row">
                <input name="attr_vidafix" type="hidden" value="0">
                <p class="col-sm-4">Vida: <input type="number" name="attr_vida"> / <input type="number" name="attr_vida_max" disabled="true" value="(5+@{resistencia}+@{resistencia_raza}+@{resistencia_perm}+@{resistencia_temp}+(@{vitalidad}+@{vitalidad_raza}+@{vitalidad_perm}+@{vitalidad_temp})*3-@{vidafix})"></p>
                <p class="col-sm-4">Acciones de ataque: <input type="number" name="attr_acatq" disabled="true" value="(floor((@{combate}+@{combate_raza}+@{combate_perm}+@{combate_temp})/2)+1)" max="(floor((@{combate}+@{combate_raza}+@{combate_perm}+@{combate_temp})/2)+1)"></p>
                <p class="col-sm-4">Acciones de movimiento: <input type="number" name="attr_acmov" disabled="true" value="(floor((@{resistencia}+@{resistencia_raza}+@{resistencia_perm}+@{resistencia_temp})/2)+1)" max="(floor((@{resistencia}+@{resistencia_raza}+@{resistencia_perm}+@{resistencia_temp})/2)+1)"></p>
            </div><br>
            <h2>Datos</h2><br>
            <div class="row">
                <p class="col-sm-4">Nombre:  <br><input style="width:70%" type="text" name="attr_nombre" placeholder="Nombre y apellido"></p>
                <p class="col-sm-4">Sexo:  <br>
                    <select id="sexos" name="attr_sexo" style="width:70%">
                        <option value="Elegir sexo" selected>Elegir sexo</option>
                        <option value="Hombre">Hombre</option>
                        <option value="Mujer">Mujer</option>
                        <option value="Mujer T">Mujer T</option>
                        <option value="Hombre T">Hombre T</option>
                    </select>
                </p>
                <p class="col-sm-4">Edad:  <br><input style="width:20%" type="number" name="attr_edad" value="0"></p>
            </div>
            <hr>
            <div class="row">
                <p class="col-sm-4">Experiencia:  <input style="width:50%" type="number" name="attr_exp" value="0" min="0"></p>
                <p class="col-sm-4"><input type="hidden" name="attr_foo_nivel">Nivel:  <input style="width:50%" type="number" name="attr_nivel" value="@{foo_nivel}" disabled="true"></p>
                <p class="col-sm-4"><input type="hidden" name="attr_foo_falta">Falta para subir:  <input style="width:50%" type="number" name="attr_falta" value="@{foo_falta}" disabled="true"></p>
            </div>
            
            <div class="row">
                <p class="col-sm-3">Dios: 
                    <select name="attr_dios" style="width:40%">
                        <option value="Elegir dios" selected>Elegir dios</option>
                        <option value="Sol">Sol</option>
                        <option value="Luna">Luna</option>
                        <option value="Combate">Combate</option>
                        <option value="Miseria">Miseria</option>
                        <option value="Muerte">Muerte</option>
                        <option value="Sin alma">Sin alma</option>
                    </select>
                </p>
                <p class="col-sm-3">Karma +: <input type="number" name="attr_kmas" value="0"></p>
                <p class="col-sm-3">Karma -: <input type="number" name="attr_kmenos" value="0"></p>
                <p class="col-sm-3">Karma: <input type="number" name="attr_karma" disabled="true" value="(@{kmas}-@{kmenos})"></p>
            </div>
            <hr>
            <div class="row">
                <p class="col-sm-12">Raza: 
                    <select id="razas" style="width:80%" name="attr_raza">
                        <option value="Elegir raza" selected="selected">Elegir raza</option>
                        <option value="Humano">Humano</option>
                        <option value="Orco">Orco</option>
                        <option value="Lhanie">Lhanie</option>
                        <option value="Turbe">Turbe</option>
                        <option value="Shira">Shira</option>
                        <option value="Sarka">Sarka</option>
                        <option value="Fjereo">Fjereo</option>
                        <option value="Draieach">Draieach</option>
                        <option value="Naturis">Naturis</option>
                        <option value="Demonio">Demonio</option>
                        <option value="Automatas">Automatas</option>
                    </select>
                </p>
                <p class="col-sm-12">Hibrido: 
                    <select id="razas" style="width:80%" name="attr_hibrido">
                        <option value="Elegir raza" selected="selected">Elegir hibrido</option>
                        <option value="Humano">Humano</option>
                        <option value="Orco">Orco</option>
                        <option value="Lhanie">Lhanie</option>
                        <option value="Turbe">Turbe</option>
                        <option value="Shira">Shira</option>
                        <option value="Sarka">Sarka</option>
                        <option value="Fjereo">Fjereo</option>
                        <option value="Draieach">Draieach</option>
                        <option value="Naturis">Naturis</option>
                        <option value="Demonio">Demonio</option>
                        <option value="Automatas">Automatas</option>
                    </select>
                </p>
                <p class="col-sm-12">
                    Nivel de raza: 
                    <input style="width:20%" type="number" name="attr_razanivel" value="0">
                    Doble herencia:
                    <select name="attr_dobleher">
                        <option value="No">No</option>
                        <option value="Si">Si</option>
                    </select>
                </p>
                
            </div>
            <hr>
            <div class="row">
                <p class="col-sm-12 d-flex">
                    Clase: 
                    <select name="attr_clase1">
                        <option value="Elegir clase" selected="selected"></option>
                        <option value="Guerrero">Guerrero</option>
                        <option value="Senescal">Senescal</option>
                        <option value="Samurai">Samurai</option>
                        <option value="Picaro">Picaro</option>
                        <option value="Asesino">Asesino</option>
                        <option value="Asesino sombrío">Asesino sombrío</option>
                        <option value="Clérigo">Clérigo</option>
                        <option value="Curandero">Curandero</option>
                        <option value="Paladin">Paladin</option>
                        <option value="Ranger">Ranger</option>
                        <option value="Pistolero">Pistolero</option>
                        <option value="Arquero">Arquero</option>
                        <option value="Luchador">Luchador</option>
                        <option value="Shaolin">Shaolin</option>
                        <option value="Tortuga marcial">Tortuga marcial</option>
                        <option value="Arcanomante">Arcanomante</option>
                        <option value="Piromante">Piromante</option>
                        <option value="Ciromante">Ciromante</option>
                        <option value="Electromante">Electromante</option>
                        <option value="Lumimante">Lumimante</option>
                        <option value="Noctomante">Noctomante</option>
                        <option value="Espirimante">Espirimante</option>
                        <option value="Psicomante">Psicomante</option>
                        <option value="Ophimante">Ophimante</option>
                        <option value="Hemomante">Hemomante</option>
                        <option value="Artificiero">Artificiero</option>
                    </select>
                    <input type="number" name="attr_clase1lv" min="0" value="0">
                </p>
                <p class="col-sm-12 d-flex">
                    Clase: 
                    <select name="attr_clase2">
                        <option value="Elegir clase" selected="selected"></option>
                        <option value="Guerrero">Guerrero</option>
                        <option value="Senescal">Senescal</option>
                        <option value="Samurai">Samurai</option>
                        <option value="Picaro">Picaro</option>
                        <option value="Asesino">Asesino</option>
                        <option value="Asesino sombrío">Asesino sombrío</option>
                        <option value="Clérigo">Clérigo</option>
                        <option value="Curandero">Curandero</option>
                        <option value="Paladin">Paladin</option>
                        <option value="Ranger">Ranger</option>
                        <option value="Pistolero">Pistolero</option>
                        <option value="Arquero">Arquero</option>
                        <option value="Luchador">Luchador</option>
                        <option value="Shaolin">Shaolin</option>
                        <option value="Tortuga marcial">Tortuga marcial</option>
                        <option value="Arcanomante">Arcanomante</option>
                        <option value="Piromante">Piromante</option>
                        <option value="Ciromante">Ciromante</option>
                        <option value="Electromante">Electromante</option>
                        <option value="Lumimante">Lumimante</option>
                        <option value="Noctomante">Noctomante</option>
                        <option value="Espirimante">Espirimante</option>
                        <option value="Psicomante">Psicomante</option>
                        <option value="Ophimante">Ophimante</option>
                        <option value="Hemomante">Hemomante</option>
                        <option value="Artificiero">Artificiero</option>
                    </select>
                    <input type="number" name="attr_clase2lv" min="0" value="0">
                </p>
                <p class="col-sm-12 d-flex">
                    Clase: 
                    <select name="attr_clase3">
                        <option value="Elegir clase" selected="selected"></option>
                        <option value="Guerrero">Guerrero</option>
                        <option value="Senescal">Senescal</option>
                        <option value="Samurai">Samurai</option>
                        <option value="Picaro">Picaro</option>
                        <option value="Asesino">Asesino</option>
                        <option value="Asesino sombrío">Asesino sombrío</option>
                        <option value="Clérigo">Clérigo</option>
                        <option value="Curandero">Curandero</option>
                        <option value="Paladin">Paladin</option>
                        <option value="Ranger">Ranger</option>
                        <option value="Pistolero">Pistolero</option>
                        <option value="Arquero">Arquero</option>
                        <option value="Luchador">Luchador</option>
                        <option value="Shaolin">Shaolin</option>
                        <option value="Tortuga marcial">Tortuga marcial</option>
                        <option value="Arcanomante">Arcanomante</option>
                        <option value="Piromante">Piromante</option>
                        <option value="Ciromante">Ciromante</option>
                        <option value="Electromante">Electromante</option>
                        <option value="Lumimante">Lumimante</option>
                        <option value="Noctomante">Noctomante</option>
                        <option value="Espirimante">Espirimante</option>
                        <option value="Psicomante">Psicomante</option>
                        <option value="Ophimante">Ophimante</option>
                        <option value="Hemomante">Hemomante</option>
                        <option value="Artificiero">Artificiero</option>
                    </select>
                    <input type="number" name="attr_clase3lv" min="0" value="0">
                </p>
            </div>
        </div>
        <div style="text-align: center; margin: auto; width: 100%;">
            <h2>Tiradas</h2>
            <table class="tabla">
                <td scope="row">Puntería:  </td>
                <td><button type="roll" value='Puntería (Ef:[[@{efdado}]])->[[1d20]] + [[(ceil((@{combatetotal}+@{percepcióntotal})/2))]]' name'roll_strCheck'></button></td>
                <td>Forzar cerradura:  </td>
                <td><button type="roll" value='Forzar cerraduras [[{1d20+ceil((@{combatetotal}+@{percepcióntotal}+@{agilidadtotal})/3)}>15]]' name'roll_strCheck'></button></td>
            </table>
        </div>
        <div style="text-align: center; margin: auto; width: 100%;">
            <h2>Estadísticas</h2><br>
            <table class="table">
                <tr>
                    <td scope="row">Agilidad:  </td>
                    <td><input type="number" name="attr_agilidad" value="0"></td>
                    <td><input type="hidden" name="attr_foo_agilidad_raza" value="0">Raza:  <input type="number" name="attr_agilidad_raza" disabled="true" value="@{foo_agilidad_raza}"></td>
                    <td>Perm:  <input type="number" name="attr_agilidad_perm" value="0"></td>
                    <td>Temp:  <input type="number" name="attr_agilidad_temp" value="0"></td>
                    <td>Ven:  <input type="number" name="attr_agilidad_vent" min="0" value="0"></td>
                    <td><input type="number" name="attr_agilidadtotal" value='(@{agilidad}+@{agilidad_raza}+@{agilidad_perm}+@{agilidad_temp})' disabled="true"></td>
                    <td><button type="roll" value='Agilidad [[(@{agilidad_vent}+1)d20dl@{agilidad_vent}+@{agilidad}+@{agilidad_raza}+@{agilidad_perm}+@{agilidad_temp}]]' name'roll_strCheck'></button></td>
                </tr>
                <tr>
                    <td scope="row">Carisma:  </td>
                    <td><input type="number" name="attr_carisma" value="0"></td>
                    <td><input type="hidden" name="attr_foo_carisma_raza" value="0">Raza:  <input type="number" name="attr_carisma_raza" disabled="true" value="@{foo_carisma_raza}"></td>
                    <td>Perm:  <input type="number" name="attr_carisma_perm" value="0"></td>
                    <td>Temp:  <input type="number" name="attr_carisma_temp" value="0"></td>
                    <td>Ven:  <input type="number" name="attr_carisma_vent" min="0" value="0"></td>
                    <td><input type="number" name="attr_carismatotal" value="(@{carisma}+@{carisma_raza}+@{carisma_perm}+@{carisma_temp})" disabled="true"></td>
                    <td><button type="roll" value='Carisma [[(@{carisma_vent}+1)d20dl@{carisma_vent}+@{carisma}+@{carisma_raza}+@{carisma_perm}+@{carisma_temp}]]' name'roll_strCheck'></button></td>
                </tr>
                <tr>
                    <td scope="row">Combate:  </td>
                    <td><input type="number" name="attr_combate" value="0"></td>
                    <td><input type="hidden" name="attr_foo_combate_raza" value="0">Raza:  <input type="number" name="attr_combate_raza" disabled="true" value="@{foo_combate_raza}"></td>
                    <td>Perm:  <input type="number" name="attr_combate_perm" value="0"></td>
                    <td>Temp:  <input type="number" name="attr_combate_temp" value="0"></td>
                    <td>Ven:  <input type="number" name="attr_combate_vent" min="0" value="0"></td>
                    <td><input type="number" name="attr_combatetotal" value="(@{combate}+@{combate_raza}+@{combate_perm}+@{combate_temp})" disabled="true"></td>
                    <td><button type="roll" value='Combate [[(@{combate_vent}+1)d20dl@{combate_vent}+@{combate}+@{combate_raza}+@{combate_perm}+@{combate_temp}]]' name'roll_strCheck'></button></td>
                </tr>
                <tr>
                    <td scope="row">Fuerza:  </td>
                    <td><input type="number" name="attr_fuerza" value="0"></td>
                    <td><input type="hidden" name="attr_foo_fuerza_raza" value="0">Raza:  <input type="number" name="attr_fuerza_raza" disabled="true" value="@{foo_fuerza_raza}"></td>
                    <td>Perm:  <input type="number" name="attr_fuerza_perm" value="0"></td>
                    <td>Temp:  <input type="number" name="attr_fuerza_temp" value="0"></td>
                    <td>Ven:  <input type="number" name="attr_fuerza_vent" min="0" value="0"></td>
                    <td><input type="number" name="attr_fuerzatotal" value="(@{fuerza}+@{fuerza_raza}+@{fuerza_perm}+@{fuerza_temp})" disabled="true"></td>
                    <td><button type="roll" value='Fuerza [[(@{fuerza_vent}+1)d20dl@{fuerza_vent}+@{fuerza}+@{fuerza_raza}+@{fuerza_perm}+@{fuerza_temp}]]' name'roll_strCheck'></button></td>
                </tr>
                <tr>
                    <td scope="row">Inteligencia:  </td>
                    <td><input type="number" name="attr_inteligencia" value="0"></td>
                    <td><input type="hidden" name="attr_foo_inteligencia_raza" value="0">Raza:  <input type="number" name="attr_inteligencia_raza" disabled="true" value="@{foo_inteligencia_raza}"></td>
                    <td>Perm:  <input type="number" name="attr_inteligencia_perm" value="0"></td>
                    <td>Temp:  <input type="number" name="attr_inteligencia_temp" value="0"></td>
                    <td>Ven:  <input type="number" name="attr_inteligencia_vent" min="0" value="0"></td>
                    <td><input type="number" name="attr_inteligenciatotal" value="(@{inteligencia}+@{inteligencia_raza}+@{inteligencia_perm}+@{inteligencia_temp})" disabled="true"></td>
                    <td><button type="roll" value='Inteligencia [[(@{inteligencia_vent}+1)d20dl@{inteligencia_vent}+@{inteligencia}+@{inteligencia_raza}+@{inteligencia_perm}+@{inteligencia_temp}]]' name'roll_strCheck'></button></td>
                </tr>
                <tr>
                    <td scope="row">Percepción:  </td>
                    <td><input type="number" name="attr_percepción" value="0"></td>
                    <td><input type="hidden" name="attr_foo_percepción_raza" value="0">Raza:  <input type="number" name="attr_percepción_raza" disabled="true" value="@{foo_percepción_raza}"></td>
                    <td>Perm:  <input type="number" name="attr_percepción_perm" value="0"></td>
                    <td>Temp:  <input type="number" name="attr_percepción_temp" value="0"></td>
                    <td>Ven:  <input type="number" name="attr_percepción_vent" min="0" value="0"></td>
                    <td><input type="number" name="attr_percepcióntotal" value="(@{percepción}+@{percepción_raza}+@{percepción_perm}+@{percepción_temp})" disabled="true"></td>
                    <td><button type="roll" value='Percepción [[(@{percepción_vent}+1)d20dl@{percepción_vent}+@{percepción}+@{percepción_raza}+@{percepción_perm}+@{percepción_temp}]]' name'roll_strCheck'></button></td>
                </tr>
                <tr>
                    <td scope="row">Resistencia:  </td>
                    <td><input type="number" name="attr_resistencia" value="0"></td>
                    <td><input type="hidden" name="attr_foo_resistencia_raza" value="0">Raza:  <input type="number" name="attr_resistencia_raza" disabled="true" value="@{foo_resistencia_raza}"></td>
                    <td>Perm:  <input type="number" name="attr_resistencia_perm" value="0"></td>
                    <td>Temp:  <input type="number" name="attr_resistencia_temp" value="0"></td>
                    <td>Ven:  <input type="number" name="attr_resistencia_vent" min="0" value="0"></td>
                    <td><input type="number" name="attr_resistenciatotal" value="(@{resistencia}+@{resistencia_raza}+@{resistencia_perm}+@{resistencia_temp})" disabled="true"></td>
                    <td><button type="roll" value='Resistencia [[(@{resistencia_vent}+1)d20dl@{resistencia_vent}+@{resistencia}+@{resistencia_raza}+@{resistencia_perm}+@{resistencia_temp}]]' name'roll_strCheck'></button></td>
                </tr>
                <tr>
                    <td scope="row">Vitalidad:  </td>
                    <td><input type="number" name="attr_vitalidad" value="0"></td>
                    <td><input type="hidden" name="attr_foo_vitalidad_raza" value="0">Raza:  <input type="number" name="attr_vitalidad_raza" disabled="true" value="@{foo_vitalidad_raza}"></td>
                    <td>Perm:  <input type="number" name="attr_vitalidad_perm" value="0"></td>
                    <td>Temp:  <input type="number" name="attr_vitalidad_temp" value="0"></td>
                    <td>Ven:  <input type="number" name="attr_vitalidad_vent" min="0" value="0"></td>
                    <td><input type="number" name="attr_vitalidadtotal" value="(@{vitalidad}+@{vitalidad_raza}+@{vitalidad_perm}+@{vitalidad_temp})" disabled="true"></td>
                    <td><button type="roll" value='Vitalidad [[(@{vitalidad_vent}+1)d20dl@{vitalidad_vent}+@{vitalidad}+@{vitalidad_raza}+@{vitalidad_perm}+@{vitalidad_temp}]]' name'roll_strCheck'></button></td>
                </tr>
                <tr>
                    <td scope="row">Suerte:  </td>
                    <td><input type="number" name="attr_suerte" value="0"></td>
                    <td><input type="hidden" name="attr_foo_suerte_raza" value="0">Raza:  <input type="number" name="attr_suerte_raza" disabled="true" value="@{foo_suerte_raza}"></td>
                    <td>Perm:  <input type="number" name="attr_suerte_perm" value="0"></td>
                    <td>Temp:  <input type="number" name="attr_suerte_temp" value="0"></td>
                    <td>Ven:  <input type="number" name="attr_suerte_vent" min="0" value="0"></td>
                    <td><input type="number" name="attr_suertetotal" value="(@{suerte}+@{suerte_raza}+@{suerte_perm}+@{suerte_temp})" disabled="true"></td>
                    <td><button type="roll" value='Suerte [[(@{suerte_vent}+1)20dl@{suerte_vent}+@{suerte}+@{suerte_raza}+@{suerte_perm}+@{suerte_temp}]]' name'roll_strCheck'></button></td>
                </tr>
            </table>
        </div>

        <div style="text-align: center; margin: auto; width: 100%;">
            <h2>Combate</h2><br>
            <h5>Protección</h5><br>
            <table class="table">
                <tr>
                    <td scope="row"><input type="hidden" name="attr_foo_natural" value="0">Armadura natural: <input type="number" name="attr_natural" value="@{foo_natural}" disabled="true"></td>
                    <td>Mágica: <input type="number" name="attr_magica" value="0"></td>
                    <td><input type="hidden" name="attr_foo_escudo" value="0">Escudo: <input type="number" name="attr_escudo" value="@{foo_escudo}" disabled="true"></td>
                    <td><input type="hidden" name="attr_foo_armadura" value="0">Armadura: <input type="number" name="attr_armadura" value="@{foo_armadura}" disabled="true"></td>
                    <td>Resistencia: <input type="number" name="attr_restotal" value="(@{resistencia}+@{resistencia_raza}+@{resistencia_perm}+@{resistencia_temp})" disabled="true" ></td>
                    <td><input type="hidden" name="attr_foo_armaduratotal" value="(@{foo_armadura}+@{foo_escudo}+@{foo_natural}+@{magica}+@{resistencia}+@{resistencia_raza}+@{resistencia_perm}+@{resistencia_temp})">Total: <input type="number" name="attr_armaduratotal" value="(@{foo_armaduratotal})" disabled="true"></td></td>
                </tr>
            </table>
            <h5>Efecto</h5><br>
            <table class="table">
                <tr>
                    <td scope="row">Arma izq. <input type="number" name="attr_efarmaizq" value="5">%</td>
                    <td>Arma der. <input type="number" name="attr_efarmader" value="5">%</td>
                    <td>Clase <input type="number" name="attr_efclase" value="0">%</td>
                    <td>Total <input type="number" name="attr_eftotal" max="50" disabled="true" value="(@{efarmaizq}+@{efarmader}+@{efclase})">%</td>
                    <td>Dado minimo <input type="number" name="attr_efdado" disabled="true" value="(20-((@{eftotal}/100)*20)+1)"></td>
                </tr>
            </table>
        </div>
        <div style="text-align: center; margin: auto; width: 100%;">
            <h2>Inventario</h2>
            <table class="table" style="width:100%">
                <tr>
                    <td scope="row">
                        Tiene riñonera:
                        <select name="attr_tieneri">
                            <option value="No" selected="selected">No</option>
                            <option value="Si">Si</option>
                        </select>
                    </td>
                    <td scope="row">
                        Tiene cinturón:
                        <select name="attr_tieneci">
                            <option value="No" selected="selected">No</option>
                            <option value="Si">Si</option>
                        </select>
                    </td>
                </tr>
            </table>
            <table style="width:100%">
                <tr>
                    <td scope="row">Mochila:</td>
                    <td colspan="4"><input type="text" style="width:100%" name="attr_inv1"></td>
                    <td>Cantidad: <input type="number" min="0" name="attr_inv1q"></td>
                </tr>
                <tr>
                    <td scope="row">Mochila:</td>
                    <td colspan="4"><input type="text" style="width:100%" name="attr_inv2"></td>
                    <td>Cantidad: <input type="number" min="0" name="attr_inv2q"></td>
                </tr>
                <tr>
                    <td scope="row">Mochila:</td>
                    <td colspan="4"><input type="text" style="width:100%" name="attr_inv3"></td>
                    <td>Cantidad: <input type="number" min="0" name="attr_inv3q"></td>
                </tr>
                <tr>
                    <td scope="row">Mochila:</td>
                    <td colspan="4"><input type="text" style="width:100%" name="attr_inv4"></td>
                    <td>Cantidad: <input type="number" min="0" name="attr_inv4q"></td>
                </tr>
                <tr>
                    <td scope="row">Mochila:</td>
                    <td colspan="4"><input type="text" style="width:100%" name="attr_inv5"></td>
                    <td>Cantidad: <input type="number" min="0" name="attr_inv5q"></td>
                </tr>
                <tr>
                    <td scope="row">Mochila:</td>
                    <td colspan="4"><input type="text" style="width:100%" name="attr_inv6"></td>
                    <td>Cantidad: <input type="number" min="0" name="attr_inv6q"></td>
                </tr>
                <tr>
                    <td scope="row">Mochila:</td>
                    <td colspan="4"><input type="text" style="width:100%" name="attr_inv7"></td>
                    <td>Cantidad: <input type="number" min="0" name="attr_inv7q"></td>
                </tr>
                <tr>
                    <td scope="row">Mochila:</td>
                    <td colspan="4"><input type="text" style="width:100%" name="attr_inv8"></td>
                    <td>Cantidad: <input type="number" min="0" name="attr_inv8q"></td>
                </tr>
                <tr>
                    <td scope="row">Mochila:</td>
                    <td colspan="4"><input type="text" style="width:100%" name="attr_inv9"></td>
                    <td>Cantidad: <input type="number" min="0" name="attr_inv9q"></td>
                </tr>
                <tr>
                    <td scope="row">Mochila:</td>
                    <td colspan="4"><input type="text" style="width:100%" name="attr_inv10" placeholder="Solo disponible con Don de la Carga"></td>
                    <td>Cantidad: <input type="number" min="0" name="attr_inv10q"></td>
                </tr>
                <tr>
                    <td scope="row">Mochila:</td>
                    <td colspan="4"><input type="text" style="width:100%" name="attr_inv11" placeholder="Solo disponible con Don de la Carga"></td>
                    <td>Cantidad: <input type="number" min="0" name="attr_inv11q"></td>
                </tr>
                <tr>
                    <td scope="row">Mochila:</td>
                    <td colspan="4"><input type="text" style="width:100%" name="attr_inv12" placeholder="Solo disponible con Don de la Carga"></td>
                    <td>Cantidad: <input type="number" min="0" name="attr_inv12q"></td>
                </tr>
                <tr>
                    <td scope="row">Mochila:</td>
                    <td colspan="4"><input type="text" style="width:100%" name="attr_inv13" placeholder="Solo disponible con Don de la Carga"></td>
                    <td>Cantidad: <input type="number" min="0" name="attr_inv13q"></td>
                </tr>
                <tr>
                    <td scope="row">Mochila:</td>
                    <td colspan="4"><input type="text" style="width:100%" name="attr_inv14" placeholder="Solo disponible con Don de la Carga"></td>
                    <td>Cantidad: <input type="number" min="0" name="attr_inv14q"></td>
                </tr>
                <tr>
                    <td scope="row">Riñonera:</td>
                    <td colspan="4"><input type="text" class="riñonera" style="width:100%" name="attr_ri1" placeholder="Solo disponible con Riñonera"></td>
                    <td>Cantidad: <input type="number" min="0" name="attr_ri1q"></td>
                </tr>
                <tr>
                    <td scope="row">Riñonera:</td>
                    <td colspan="4"><input type="text" class="riñonera" style="width:100%" name="attr_ri2" placeholder="Solo disponible con Riñonera"></td>
                    <td>Cantidad: <input type="number" min="0" name="attr_ri2q"></td>
                </tr>
                <tr>
                    <td scope="row">Riñonera:</td>
                    <td colspan="4"><input type="text" class="riñonera" style="width:100%" name="attr_ri3" placeholder="Solo disponible con Riñonera"></td>
                    <td>Cantidad: <input type="number" min="0" name="attr_ri3q"></td>
                </tr>
                <tr>
                    <td scope="row">Riñonera:</td>
                    <td colspan="4"><input type="text" class="riñonera" style="width:100%" name="attr_ri4" placeholder="Solo disponible con Riñonera"></td>
                    <td>Cantidad: <input type="number" min="0" name="attr_ri4q"></td>
                </tr>
                <tr>
                    <td scope="row">Cinturón:</td>
                    <td colspan="4"><input type="text" style="width:100%" name="attr_ci1" placeholder="Solo disponible con Cinturón"></td>
                    <td>Cantidad: <input type="number" min="0" name="attr_ci1q"></td>
                </tr>
                <tr>
                    <td scope="row">Cinturón:</td>
                    <td colspan="4"><input type="text" style="width:100%" name="attr_ci2" placeholder="Solo disponible con Cinturón"></td>
                    <td>Cantidad: <input type="number" min="0" name="attr_ci2q"></td>
                </tr>
                <tr>
                    <td scope="row">Cinturón:</td>
                    <td colspan="4"><input type="text" style="width:100%" name="attr_ci3" placeholder="Solo disponible con Cinturón"></td>
                    <td>Cantidad: <input type="number" min="0" name="attr_ci3q"></td>
                </tr>
                <tr>
                    <td scope="row">Funda extra:</td>
                    <td colspan="4"><input type="text" name="attr_fuex1tipo" placeholder="Tipo de objeto"><input type="text" style="width:50%" name="attr_fuex1" placeholder="Solo disponible con funda extra"></td>
                    <td>Cantidad: <input type="number" min="0" name="attr_fuex1q"></td>
                </tr>
                <tr>
                    <td scope="row">Funda extra:</td>
                    <td colspan="4"><input type="text" name="attr_fuex2tipo" placeholder="Tipo de objeto"><input type="text" style="width:50%" name="attr_fuex2" placeholder="Solo disponible con funda extra"></td>
                    <td>Cantidad: <input type="number" min="0" name="attr_fuex2q"></td>
                </tr>
                <tr>
                    <td scope="row">Funda extra:</td>
                    <td colspan="4"><input type="text" name="attr_fuex3tipo" placeholder="Tipo de objeto"><input type="text" style="width:50%" name="attr_fuex3" placeholder="Solo disponible con funda extra"></td>
                    <td>Cantidad: <input type="number" min="0" name="attr_fuex3q"></td>
                </tr>
                <tr>
                    <td scope="row">Funda extra:</td>
                    <td colspan="4"><input type="text" name="attr_fuex4tipo" placeholder="Tipo de objeto"><input type="text" style="width:50%" name="attr_fuex4" placeholder="Solo disponible con funda extra"></td>
                    <td>Cantidad: <input type="number" min="0" name="attr_fuex4q"></td>
                </tr>
                <tr>
                    <td scope="row">Funda extra:</td>
                    <td colspan="4"><input type="text" name="attr_fuex5tipo" placeholder="Tipo de objeto"><input type="text" style="width:50%" name="attr_fuex5" placeholder="Solo disponible con funda extra"></td>
                    <td>Cantidad: <input type="number" min="0" name="attr_fuex5q"></td>
                </tr>
            </table>
        </div>
    </div>
</div>

<script>
    on('change:exp', function (eventInfo){
        getAttrs(["exp","foo_nivel","foo_falta"], function(values) {
            var exp_actual, var_lv, var_falta;
            exp_actual = values.exp;
            if(exp_actual >= 600) {
                var_lv = Math.floor((exp_actual-400)/200)+5;
                var_falta = ((200*var_lv)-400)-exp_actual;
            }
            else if(exp_actual >= 400) {
                var_lv = 5;
                var_falta = 600-exp_actual;
            }
            else if(exp_actual >= 250) {
                var_lv = 4;
                var_falta = 400-exp_actual;
            }
            else if(exp_actual >= 100) {
                var_lv = 3;
                var_falta = 250-exp_actual;
            }
            else if(exp_actual >= 50) {
                var_lv = 2;
                var_falta = 100-exp_actual;
            }
            else if(exp_actual >= 15) {
                var_lv = 1;
                var_falta = 50-exp_actual;
            }
            else {
                var_lv = 0;
                var_falta = 15-exp_actual;
            }
            setAttrs({
                foo_nivel: var_lv, 
                foo_falta: var_falta
            });
        });
    });

    on('add:character', function (eventInfo) {
        getAttrs(["nombre","sexo","edad"], function(values) {
            setAttrs({
                nombre: "", 
                sexo: "Elegir sexo", 
                edad: 0, 
                exp: 0, 
                foo_nivel: 0, 
                nivel: 0,
                foo_falta: 0, 
                falta: 0, 
                raza: "Elegir raza", 
                hibrido: "Elegir hibrido",
                razanivel: 0, 
                dobleher: "No",
                clase1: "Sin clase",
                clase2: "Sin clase",
                clase3: "Sin clase",
                clase1lv: 0, 
                clase2lv: 0, 
                clase3lv: 0, 
                agilidad: 0, 
                foo_agilidad_raza: 0,
                agilidad_raza: 0, 
                agilidad_perm: 0, 
                carisma: 0, 
                foo_carisma_raza: 0, 
                carisma_raza: 0,
                carisma_perm: 0, 
                carisma_temp: 0, 
                combate: 0, 
                foo_combate_raza: 0, 
                combate_raza: 0,
                combate_perm: 0, 
                combate_temp: 0, 
                fuerza: 0, 
                foo_fuerza_raza: 0, 
                fuerza_raza: 0,
                fuerza_perm: 0, 
                fuerza_temp: 0, 
                inteligencia: 0, 
                foo_inteligencia_raza: 0, 
                inteligencia_raza: 0, 
                inteligencia_perm: 0, 
                inteligencia_temp: 0, 
                percepcion: 0,
                foo_percepcion_raza: 0, 
                percepcion_raza: 0, 
                percepcion_perm: 0, 
                percepcion_temp: 0,
                resistencia: 0, 
                foo_resistencia_raza: 0, 
                resistencia_raza: 0,
                resistencia_perm: 0,
                resistencia_temp: 0,
                vitalidad: 0,
                foo_vitalidad_raza: 0,
                vitalidad_raza: 0,
                vitalidad_perm: 0,
                vitalidad_temp: 0,
                suerte: 0,
                foo_suerte_raza: 0,
                suerte_raza: 0,
                suerte_perm: 0,
                suerte_temp: 0,
                foo_natural: 0,
                natural: 0,
                magica: 0,
                foo_escudo: 0,
                escudo: 0,
                foo_armadura: 0,
                armadura: 0,
                restotal: 0,
                foo_armaduratotal: 0,
                armaduratotal: 0
            });
        });
    });

    on('change:dobleher change:raza change:hibrido change:vida_max', function (eventInfo){
        getAttrs(["dobleher", "raza", "hibrido", "vida_max", "resistencia", "resistencia_raza", "resistencia_perm", "resistencia_temp"], function(values) {
            var ag=0,ca=0,co=0,fu=0; 
            var inte=0,pe=0,re=0,vi=0,su=0,vida_fix=0;
            if(values["raza"] == "Humano" || (values["hibrido"] == "Humano" && values["dobleher"] == "Si")){ag=ag+2; inte=inte+2; su=su+1;}
            if(values["raza"] == "Orco" || (values["hibrido"] == "Orco" && values["dobleher"] == "Si")){fu=fu+2; re=re+2;}
            if(values["raza"] == "Shira" || (values["hibrido"] == "Shira" && values["dobleher"] == "Si")){re=re+2; vi=vi+2; co=co+1;}
            if(values["raza"] == "Lhanie" || (values["hibrido"] == "Lhanie" && values["dobleher"] == "Si")){ag=ag+2; ca=ca+2;}
            if(values["raza"] == "Turbe" || (values["hibrido"] == "Turbe" && values["dobleher"] == "Si")){ag=g+2; inte=inte+3; su=su-1;}
            if(values["raza"] == "Fjereo" || (values["hibrido"] == "Fjereo" && values["dobleher"] == "Si")){ag=ag+2; pe=pe+2; }
            if(values["raza"] == "Sarka" || (values["hibrido"] == "Sarka" && values["dobleher"] == "Si")){fu=fu+2; ca=ca+2; re=re+1;}
            if(values["raza"] == "Demonio" || (values["hibrido"] == "Demonio" && values["dobleher"] == "Si")){fu=fu+2; co=co+2;}
            if(values["raza"] == "Naturis" || (values["hibrido"] == "Naturis" && values["dobleher"] == "Si")){ca=ca+2; inte=inte+2;}
            if(values["raza"] == "Automatas" || (values["hibrido"] == "Automatas" && values["dobleher"] == "Si")){fu=fu+2; inte=inte+2;}
            if(values["raza"] == "Draieach" || (values["hibrido"] == "Draieach" && values["dobleher"] == "Si")){fu=fu+1; re=re+1; inte=inte+2;}
            if(values["raza"] == "Fjereo" || values["hibrido"] == "Fjereo") vida_fix = values["resistencia"]+values["resistencia_raza"]+values["resistencia_perm"]+values["resistencia_temp"];
            setAttrs({
                foo_agilidad_raza: ag,
                foo_carisma_raza: ca,
                foo_combate_raza: co,
                foo_fuerza_raza: fu,
                foo_inteligencia_raza: inte,
                foo_percepción_raza: pe,
                foo_resistencia_raza: re,
                foo_vitalidad_raza: vi,
                foo_suerte_raza: su,
                foo_natural: RazaNatural(values["raza"], values["hibrido"]),
                vidafix: vida_fix
            });
        });
    });
    
    function RazaNatural(raza, hibrido) {
        var n_raza=0, n_hibrido=0;
        if(raza == "Humano" || hibrido == "Humano") {
            if(raza == "Humano") n_raza = 2;
            if(hibrido == "Humano") n_hibrido = 2;
        }
        if(raza == "Orco" || hibrido == "Orco") {
            if(raza == "Orco") n_raza = 4;
            if(hibrido == "Orco") n_hibrido = 4;
        }
        if(raza == "Shira" || hibrido == "Shira") {
            if(raza == "Shira") n_raza = 4;
            if(hibrido == "Shira") n_hibrido = 4;
        }
        if(raza == "Lhanie" || hibrido == "Lhanie") {
            if(raza == "Lhanie") n_raza = 3;
            if(hibrido == "Lhanie") n_hibrido = 3;
        }
        if(raza == "Turbe" || hibrido == "Turbe") {
            if(raza == "Turbe") n_raza = 1;
            if(hibrido == "Turbe") n_hibrido = 1;
        }
        if(raza == "Sarka" || hibrido == "Sarka") {
            if(raza == "Sarka") n_raza = 3;
            if(hibrido == "Sarka") n_hibrido = 3;
        }
        if(raza == "Demonio" || hibrido == "Demonio") {
            if(raza == "Demonio") n_raza = 2;
            if(hibrido == "Demonio") n_hibrido = 2;
        }
        if(raza == "Naturis" || hibrido == "Naturis") {
            if(raza == "Naturis") n_raza = 5;
            if(hibrido == "Naturis") n_hibrido = 5;
        }
        if(raza == "Automatas" || hibrido == "Automatas") {
            if(raza == "Automatas") n_raza = 5;
            if(hibrido == "Automatas") n_hibrido = 5;
        }
        if(raza == "Draieach" || hibrido == "Draieach") {
            if(raza == "Draieach") n_raza = 6;
            if(hibrido == "Draieach") n_hibrido = 6;
        }

        if(raza == hibrido) n_hibrido = 0;
        return n_raza+n_hibrido;
    }
    
</script>
</body>
<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.14.7/dist/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/js-cookie@3.0.5/dist/js.cookie.min.js" type="text/javascript"></script>